{"ast":null,"code":"var _jsxFileName = \"D:\\\\jiangren assignment\\\\weather\\\\weather-demo\\\\src\\\\header.js\";\nimport React from 'react';\nimport './App.css';\nimport imgURL from './../src/logo.png';\nimport Nav from './nav';\nimport Condition from './condition';\nimport Forecast from './forecast';\nimport Footer from './footer';\nimport axios from 'axios';\nimport { format } from 'date-fns';\nimport { getWeather } from './utils/aixos';\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changeLimit = limit => {\n      this.setState({\n        limit\n      });\n    };\n\n    this.handleInput = event => {\n      this.setState({\n        input: event.target.value\n      });\n    };\n\n    this.updateWeather = () => {};\n\n    this.hanleSearch = () => {\n      getWeather(this.state.input);\n    };\n\n    this.state = {\n      input: '',\n      forecasts: [],\n      limit: 5,\n      current: {},\n      name: ''\n    };\n  }\n\n  componentDidMount() {\n    getWeather('brisbane').then(response => {\n      console.log(response);\n      const forecasts = response.data.data.forecast.slice(0, 10).map(forecast => {\n        const date = new Date(forecast.time * 1000);\n        const day = format(date, 'EEE');\n        const time = format(date, 'HH:mm');\n        return {\n          day,\n          time,\n          high: forecast.maxCelsius,\n          low: forecast.minCelsius\n        };\n      });\n      this.setState({\n        forecasts\n      }); //forecasts:forecasts (第一个forecasts是上面的空array)\n    });\n    getWeather('brisbane').then(response => {\n      const name = response.data.data.city;\n      const current = response.data.data.current;\n      this.setState({\n        current\n      });\n      this.setState({\n        name\n      });\n      this.setState({\n        current\n      });\n      this.setState({\n        name\n      });\n    });\n  }\n\n  render() {\n    const header = \"Weather Channel\";\n    return React.createElement(\"div\", {\n      className: \"weather-channel__container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"header__logo\",\n      src: imgURL,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"header__title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, header)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      inputValue: this.state.input,\n      handleInput: this.handleInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Condition, {\n      current: this.state.current,\n      city: this.state.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Forecast, {\n      forecasts: this.state.forecasts.slice(0, this.state.limit),\n      changeLimit: this.changeLimit,\n      limit: this.state.limit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Header;","map":{"version":3,"sources":["D:\\jiangren assignment\\weather\\weather-demo\\src\\header.js"],"names":["React","imgURL","Nav","Condition","Forecast","Footer","axios","format","getWeather","Header","Component","constructor","props","changeLimit","limit","setState","handleInput","event","input","target","value","updateWeather","hanleSearch","state","forecasts","current","name","componentDidMount","then","response","console","log","data","forecast","slice","map","date","Date","time","day","high","maxCelsius","low","minCelsius","city","render","header"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\nimport imgURL from './../src/logo.png';\r\nimport Nav from './nav';\r\nimport Condition from './condition';\r\nimport Forecast from './forecast';\r\nimport Footer from './footer';\r\nimport axios from 'axios';\r\nimport {format} from 'date-fns';\r\nimport {getWeather} from './utils/aixos';\r\n\r\nclass Header extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            input:'',\r\n            forecasts :[],\r\n            limit:5,\r\n            current:{},\r\n            name:''\r\n        }\r\n    }\r\n\r\n    changeLimit=limit=>{\r\n        this.setState({limit});\r\n    }\r\n\r\n    handleInput=event=>{\r\n        this.setState({input:event.target.value});\r\n    }\r\n\r\n    updateWeather=()=>{\r\n        \r\n    }\r\n\r\n    hanleSearch=() =>{\r\n        getWeather(this.state.input)\r\n    }\r\n\r\n    componentDidMount(){\r\n        getWeather('brisbane')\r\n        .then(response=>{\r\n            console.log(response)\r\n            const forecasts = response.data.data.forecast.slice(0,10).map(forecast =>{\r\n                const date = new Date(forecast.time*1000);\r\n                const day = format(date, 'EEE');\r\n                const time = format(date, 'HH:mm');\r\n\r\n                return{\r\n                    day,\r\n                    time,\r\n                    high:forecast.maxCelsius,\r\n                    low:forecast.minCelsius\r\n                }\r\n            })\r\n            this.setState({forecasts})\r\n            //forecasts:forecasts (第一个forecasts是上面的空array)\r\n        });\r\n        getWeather('brisbane')\r\n        .then(response=>{\r\n            const name = response.data.data.city;\r\n            const current = response.data.data.current;\r\n            this.setState({current})\r\n            this.setState({name})\r\n            \r\n            this.setState({current})\r\n            this.setState({name})\r\n        });\r\n    }\r\n\r\n\r\n    render(){\r\n        const header = \"Weather Channel\";\r\n        return (\r\n            <div className=\"weather-channel__container\">\r\n                <header>\r\n                    <img className=\"header__logo\" src={imgURL} alt=\"\" />\r\n                    <div className=\"header__title\">{header}</div>\r\n                </header>\r\n                <div>\r\n                    <Nav inputValue={this.state.input}\r\n                    handleInput={this.handleInput}/>\r\n                </div>\r\n                <div>\r\n                    <Condition \r\n                    current={this.state.current}\r\n                    city={this.state.name}/>\r\n                </div>\r\n                <div>\r\n                    <Forecast \r\n                    forecasts={this.state.forecasts.slice(0,this.state.limit)}\r\n                    changeLimit={this.changeLimit}\r\n                    limit={this.state.limit}/>\r\n                </div>\r\n                <div>\r\n                    <Footer />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Header;"]},"metadata":{},"sourceType":"module"}